{"ast":null,"code":"import axios from 'axios';\nconst url = process.env.REACT_APP_API_URL;\n\nconst createPromotions = () => {\n  return axios.post(`${url}/batch`);\n};\n\nconst getPromotionKeys = () => {\n  return axios.get(`${url}/keys`);\n};\n\nconst getPromotions = (page, limit) => {\n  return axios.post(`${url}/page`, {\n    page,\n    limit\n  });\n};\n\nconst duplicatePromotion = promotion => {\n  return axios.post(url, {\n    promotion\n  });\n};\n\nconst deletePromotions = async ids => {\n  axios.delete(url, {\n    data: ids\n  }).then(response => {}).catch(err => {\n    console.log(err);\n  });\n};\n\nconst updatePromotion = async promotion => {\n  axios.post(url, {\n    promotion\n  }).then(response => {}).catch(err => {\n    console.log(err);\n  });\n};\n\nexport { createPromotions, getPromotionKeys, getPromotions, duplicatePromotion, deletePromotions, updatePromotion };\nexport class ApiManager extends Component {\n  static getInstance() {\n    return new ApiManager();\n  }\n\n  async getMoviesFromApiAsync(countryCode) {\n    try {\n      let response = await fetch('https://restcountries.eu/rest/v2/callingcode/' + countryCode);\n      let responseJson = await response.json();\n      return responseJson;\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n}\nApiManager.myInstance = null;\nexport default ApiManager;","map":{"version":3,"sources":["C:/Projects/moon-active/client-side/src/services/api.ts"],"names":["axios","url","process","env","REACT_APP_API_URL","createPromotions","post","getPromotionKeys","get","getPromotions","page","limit","duplicatePromotion","promotion","deletePromotions","ids","delete","data","then","response","catch","err","console","log","updatePromotion","ApiManager","Component","getInstance","getMoviesFromApiAsync","countryCode","fetch","responseJson","json","error","myInstance"],"mappings":"AAAA,OAAOA,KAAP,MAAqC,OAArC;AAGA,MAAMC,GAAG,GAAGC,OAAO,CAACC,GAAR,CAAYC,iBAAxB;;AAEA,MAAMC,gBAAgB,GAAG,MAAM;AAC3B,SAAOL,KAAK,CAACM,IAAN,CAAY,GAAEL,GAAI,QAAlB,CAAP;AACH,CAFD;;AAIA,MAAMM,gBAAgB,GAAG,MAAM;AAC3B,SAAOP,KAAK,CAACQ,GAAN,CAAqB,GAAEP,GAAI,OAA3B,CAAP;AACH,CAFD;;AAIA,MAAMQ,aAAa,GAAG,CAACC,IAAD,EAAeC,KAAf,KAAiC;AACnD,SAAOX,KAAK,CAACM,IAAN,CAAyB,GAAEL,GAAI,OAA/B,EAAuC;AAC1CS,IAAAA,IAD0C;AACpCC,IAAAA;AADoC,GAAvC,CAAP;AAGH,CAJD;;AAMA,MAAMC,kBAAkB,GAAIC,SAAD,IAA0B;AACjD,SAAOb,KAAK,CAACM,IAAN,CAAsBL,GAAtB,EAA2B;AAC9BY,IAAAA;AAD8B,GAA3B,CAAP;AAGH,CAJD;;AAMA,MAAMC,gBAAgB,GAAG,MAAOC,GAAP,IAAyB;AAC9Cf,EAAAA,KAAK,CAACgB,MAAN,CAAkBf,GAAlB,EAAuB;AAAEgB,IAAAA,IAAI,EAAEF;AAAR,GAAvB,EACKG,IADL,CACWC,QAAD,IAA6B,CAClC,CAFL,EAEOC,KAFP,CAEcC,GAAD,IAAS;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,GAJL;AAKH,CAND;;AAQA,MAAMG,eAAe,GAAG,MAAOX,SAAP,IAAgC;AACpDb,EAAAA,KAAK,CAACM,IAAN,CAAwBL,GAAxB,EAA6B;AACzBY,IAAAA;AADyB,GAA7B,EAEGK,IAFH,CAESC,QAAD,IAA6B,CACpC,CAHD,EAGGC,KAHH,CAGUC,GAAD,IAAS;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,GALD;AAMH,CAPD;;AASA,SACIhB,gBADJ,EAEIE,gBAFJ,EAGIE,aAHJ,EAIIG,kBAJJ,EAKIE,gBALJ,EAMIU,eANJ;AASA,OAAO,MAAMC,UAAN,SAAyBC,SAAzB,CAAmC;AAGtC,SAAOC,WAAP,GAAqB;AACjB,WAAO,IAAIF,UAAJ,EAAP;AACH;;AACD,QAAMG,qBAAN,CAA4BC,WAA5B,EAAyC;AACrC,QAAI;AACA,UAAIV,QAAQ,GAAG,MAAMW,KAAK,CACtB,kDAAgDD,WAD1B,CAA1B;AAGA,UAAIE,YAAY,GAAG,MAAMZ,QAAQ,CAACa,IAAT,EAAzB;AACA,aAAOD,YAAP;AACH,KAND,CAME,OAAOE,KAAP,EAAc;AACZX,MAAAA,OAAO,CAACW,KAAR,CAAcA,KAAd;AACH;AACJ;;AAhBqC;AAA7BR,U,CACFS,U,GAAa,I;AAiBpB,eAAeT,UAAf","sourcesContent":["import axios, { AxiosResponse } from 'axios';\r\nimport { promotion } from '../types/promotion';\r\n\r\nconst url = process.env.REACT_APP_API_URL as string;\r\n\r\nconst createPromotions = () => {\r\n    return axios.post(`${url}/batch`);\r\n}\r\n\r\nconst getPromotionKeys = () => {\r\n    return axios.get<string[]>(`${url}/keys`);\r\n}\r\n\r\nconst getPromotions = (page: number, limit: number) => {\r\n    return axios.post<promotion[]>(`${url}/page`, {\r\n        page, limit\r\n    })\r\n}\r\n\r\nconst duplicatePromotion = (promotion: promotion) => {\r\n    return axios.post<promotion>(url, {\r\n        promotion\r\n    })\r\n}\r\n\r\nconst deletePromotions = async (ids: string[]) => {\r\n    axios.delete<any>(url, { data: ids })\r\n        .then((response: AxiosResponse) => {\r\n        }).catch((err) => {\r\n            console.log(err)\r\n        })\r\n}\r\n\r\nconst updatePromotion = async (promotion: promotion) => {\r\n    axios.post<promotion[]>(url, {\r\n        promotion\r\n    }).then((response: AxiosResponse) => {\r\n    }).catch((err) => {\r\n        console.log(err)\r\n    });\r\n}\r\n\r\nexport {\r\n    createPromotions,\r\n    getPromotionKeys,\r\n    getPromotions,\r\n    duplicatePromotion,\r\n    deletePromotions,\r\n    updatePromotion\r\n};\r\n\r\nexport class ApiManager extends Component {\r\n    static myInstance = null;\r\n    \r\n    static getInstance() {  \r\n        return new ApiManager();\r\n    }\r\n    async getMoviesFromApiAsync(countryCode) {\r\n        try {\r\n            let response = await fetch(\r\n                'https://restcountries.eu/rest/v2/callingcode/'+countryCode,\r\n            );\r\n            let responseJson = await response.json();\r\n            return responseJson;\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n    }\r\n    export default ApiManager"]},"metadata":{},"sourceType":"module"}