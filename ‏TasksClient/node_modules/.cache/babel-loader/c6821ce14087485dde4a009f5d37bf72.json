{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\moon-active\\\\client-side\\\\src\\\\components\\\\promotionsTable.tsx\";\nimport React from 'react';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport Paper from '@material-ui/core/Paper';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport { Table, TableContainer, TableBody, TableHead, TableCell, withStyles } from '@material-ui/core';\nimport { PromotionsTableToolbar } from './promotionsTableToolbar';\nimport { ActionsMenu } from './actionsMenu';\n\nconst PromotionsTableHead = ({\n  headCells\n}) => {\n  return /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(StyledTableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 17\n    }\n  }), headCells.map(headCell => /*#__PURE__*/React.createElement(TableCell, {\n    key: headCell.id,\n    align: headCell.numeric ? 'right' : 'left',\n    padding: headCell.disablePadding ? 'none' : 'default',\n    sortDirection: orderBy === headCell.id ? order : false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TableSortLabel, {\n    active: orderBy === headCell.id,\n    direction: orderBy === headCell.id ? order : 'asc',\n    onClick: createSortHandler(headCell.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, headCell.label, orderBy === headCell.id ? /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.visuallyHidden,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  }, order === 'desc' ? 'sorted descending' : 'sorted ascending') : null))), /*#__PURE__*/React.createElement(StyledTableCell, {\n    key: \"Promotion name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, \"Promotion name\"), /*#__PURE__*/React.createElement(StyledTableCell, {\n    key: \"Type\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, \"Type\"), /*#__PURE__*/React.createElement(StyledTableCell, {\n    key: \"Start date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, \"Start Date\"), /*#__PURE__*/React.createElement(StyledTableCell, {\n    key: \"End date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, \"End date\"), /*#__PURE__*/React.createElement(StyledTableCell, {\n    key: \"User Group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, \"User Group\"), /*#__PURE__*/React.createElement(StyledTableCell, {\n    key: \"Actions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, \"Actions\")));\n};\n\nconst StyledTableCell = withStyles(theme => createStyles({\n  head: {\n    backgroundColor: theme.palette.primary.main,\n    color: theme.palette.common.white\n  },\n  body: {\n    fontSize: 14\n  }\n}))(TableCell);\nconst useStyles = makeStyles(theme => createStyles({\n  root: {\n    width: '100%',\n    alignItems: 'center',\n    marginTop: theme.spacing(3)\n  },\n  paper: {\n    width: '100%',\n    marginBottom: theme.spacing(2)\n  },\n  table: {\n    minWidth: 750\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1\n  }\n}));\n\nconst PromotionsTable = props => {\n  const classes = useStyles();\n  const [selected, setSelected] = React.useState([]);\n  const {\n    promotions,\n    promotionKeys\n  } = props;\n\n  const selectRow = (event, id) => {\n    const selectedIndex = selected.indexOf(id);\n    let newSelected = [];\n\n    if (selectedIndex === -1) {\n      newSelected = newSelected.concat(selected, id);\n    } else if (selectedIndex === 0) {\n      newSelected = newSelected.concat(selected.slice(1));\n    } else if (selectedIndex === selected.length - 1) {\n      newSelected = newSelected.concat(selected.slice(0, -1));\n    } else if (selectedIndex > 0) {\n      newSelected = newSelected.concat(selected.slice(0, selectedIndex), selected.slice(selectedIndex + 1));\n    }\n\n    setSelected(newSelected);\n  };\n\n  const deletePromotions = () => {\n    props.onDelete(selected);\n    setSelected([]);\n  };\n\n  const deletePromotion = data => {\n    props.onDelete([data._id]);\n  };\n\n  const duplicatePromotion = data => {\n    props.onDuplicate(data);\n  };\n\n  const editPromotion = data => {\n    debugger; // props.onEdit([data._id]);\n  };\n\n  const isSelected = id => selected.indexOf(id) !== -1;\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(PromotionsTableToolbar, {\n    numSelected: selected.length,\n    onDelete: deletePromotions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(TableContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    className: classes.table,\n    \"aria-labelledby\": \"tableTitle\",\n    size: \"medium\",\n    \"aria-label\": \"enhanced table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(PromotionsTableHead, {\n    cells: promotionKeys,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 25\n    }\n  }, promotions.map((row, index) => {\n    const isItemSelected = isSelected(row._id);\n    const labelId = `enhanced-table-checkbox-${index}`;\n    return /*#__PURE__*/React.createElement(TableRow, {\n      hover: true,\n      role: \"checkbox\",\n      \"aria-checked\": isItemSelected,\n      key: index,\n      selected: isItemSelected,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      padding: \"checkbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Checkbox, {\n      onClick: event => selectRow(event, row._id),\n      checked: isItemSelected,\n      inputProps: {\n        'aria-labelledby': labelId\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 49\n      }\n    })), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(ActionsMenu, {\n      promotion: row,\n      onDelete: deletePromotion,\n      onDuplicate: duplicatePromotion,\n      onEdit: editPromotion,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 49\n      }\n    })));\n  }))))));\n};\n\nexport default PromotionsTable;","map":{"version":3,"sources":["C:/Projects/moon-active/client-side/src/components/promotionsTable.tsx"],"names":["React","createStyles","makeStyles","TableRow","TableSortLabel","Paper","Checkbox","Table","TableContainer","TableBody","TableHead","TableCell","withStyles","PromotionsTableToolbar","ActionsMenu","PromotionsTableHead","headCells","map","headCell","id","numeric","disablePadding","orderBy","order","createSortHandler","label","classes","visuallyHidden","StyledTableCell","theme","head","backgroundColor","palette","primary","main","color","common","white","body","fontSize","useStyles","root","width","alignItems","marginTop","spacing","paper","marginBottom","table","minWidth","border","clip","height","margin","overflow","padding","position","top","PromotionsTable","props","selected","setSelected","useState","promotions","promotionKeys","selectRow","event","selectedIndex","indexOf","newSelected","concat","slice","length","deletePromotions","onDelete","deletePromotion","data","_id","duplicatePromotion","onDuplicate","editPromotion","isSelected","row","index","isItemSelected","labelId"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { promotion } from '../types/promotion';\r\nimport clsx from 'clsx';\r\nimport { createStyles, lighten, makeStyles, Theme } from '@material-ui/core/styles';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { Table, TableContainer, TableBody, TableHead, TableCell, withStyles, TextField } from '@material-ui/core';\r\nimport Moment from 'react-moment';\r\nimport { TableProps } from './promotionsList';\r\nimport { PromotionsTableToolbar } from './promotionsTableToolbar';\r\nimport { ActionsMenu } from './actionsMenu';\r\n\r\n\r\nconst PromotionsTableHead = ({ headCells }: { headCells: string[] }) => {\r\n    return (\r\n        <TableHead>\r\n            <TableRow>\r\n                <StyledTableCell>\r\n                </StyledTableCell>\r\n                \r\n\r\n                {headCells.map((headCell) => (\r\n          <TableCell\r\n            key={headCell.id}\r\n            align={headCell.numeric ? 'right' : 'left'}\r\n            padding={headCell.disablePadding ? 'none' : 'default'}\r\n            sortDirection={orderBy === headCell.id ? order : false}\r\n          >\r\n            <TableSortLabel\r\n              active={orderBy === headCell.id}\r\n              direction={orderBy === headCell.id ? order : 'asc'}\r\n              onClick={createSortHandler(headCell.id)}\r\n            >\r\n              {headCell.label}\r\n              {orderBy === headCell.id ? (\r\n                <span className={classes.visuallyHidden}>\r\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\r\n                </span>\r\n              ) : null}\r\n            </TableSortLabel>\r\n          </TableCell>\r\n        ))}\r\n\r\n                <StyledTableCell key='Promotion name'>\r\n                    Promotion name\r\n                </StyledTableCell>\r\n                <StyledTableCell key='Type'>\r\n                    Type\r\n                </StyledTableCell>\r\n                <StyledTableCell key='Start date'>\r\n                    Start Date\r\n                </StyledTableCell>\r\n                <StyledTableCell key='End date'>\r\n                    End date\r\n                </StyledTableCell>\r\n                <StyledTableCell key='User Group'>\r\n                    User Group\r\n                </StyledTableCell>\r\n                <StyledTableCell key='Actions'>\r\n                    Actions\r\n                </StyledTableCell>\r\n            </TableRow>\r\n        </TableHead>\r\n    );\r\n}\r\n\r\nconst StyledTableCell = withStyles((theme: Theme) =>\r\n    createStyles({\r\n        head: {\r\n            backgroundColor: theme.palette.primary.main,\r\n            color: theme.palette.common.white,\r\n        },\r\n        body: {\r\n            fontSize: 14,\r\n        },\r\n    }),\r\n)(TableCell);\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        root: {\r\n            width: '100%',\r\n            alignItems: 'center',\r\n            marginTop: theme.spacing(3)\r\n        },\r\n        paper: {\r\n            width: '100%',\r\n            marginBottom: theme.spacing(2),\r\n        },\r\n        table: {\r\n            minWidth: 750,\r\n        },\r\n        visuallyHidden: {\r\n            border: 0,\r\n            clip: 'rect(0 0 0 0)',\r\n            height: 1,\r\n            margin: -1,\r\n            overflow: 'hidden',\r\n            padding: 0,\r\n            position: 'absolute',\r\n            top: 20,\r\n            width: 1,\r\n        },\r\n    }),\r\n);\r\n\r\nconst PromotionsTable = (props: TableProps) => {\r\n\r\n    const classes = useStyles();\r\n    const [selected, setSelected] = React.useState<string[]>([]);\r\n    const { promotions, promotionKeys } = props;\r\n\r\n    const selectRow = (event: React.MouseEvent<unknown>, id: string) => {\r\n        const selectedIndex = selected.indexOf(id);\r\n        let newSelected: string[] = [];\r\n        if (selectedIndex === -1) {\r\n            newSelected = newSelected.concat(selected, id);\r\n        } else if (selectedIndex === 0) {\r\n            newSelected = newSelected.concat(selected.slice(1));\r\n        } else if (selectedIndex === selected.length - 1) {\r\n            newSelected = newSelected.concat(selected.slice(0, -1));\r\n        } else if (selectedIndex > 0) {\r\n            newSelected = newSelected.concat(\r\n                selected.slice(0, selectedIndex),\r\n                selected.slice(selectedIndex + 1),\r\n            );\r\n        }\r\n        setSelected(newSelected);\r\n    };\r\n\r\n    const deletePromotions = () => {\r\n        props.onDelete(selected);\r\n        setSelected([]);\r\n    }\r\n\r\n    const deletePromotion = (data: promotion) => {\r\n        props.onDelete([data._id]);\r\n    }\r\n\r\n    const duplicatePromotion = (data: promotion) => {\r\n        props.onDuplicate(data);\r\n    }\r\n\r\n    const editPromotion = (data: any) => {\r\n        debugger\r\n        // props.onEdit([data._id]);\r\n    }\r\n\r\n    const isSelected = (id: string) => selected.indexOf(id) !== -1;\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Paper className={classes.paper} >\r\n                <PromotionsTableToolbar numSelected={selected.length} onDelete={deletePromotions} />\r\n                <TableContainer>\r\n                    <Table\r\n                        className={classes.table}\r\n                        aria-labelledby=\"tableTitle\"\r\n                        size=\"medium\"\r\n                        aria-label=\"enhanced table\"\r\n                    >\r\n                        <PromotionsTableHead cells={promotionKeys} />\r\n                        <TableBody>\r\n                            {promotions\r\n                                .map((row, index) => {\r\n                                    const isItemSelected = isSelected(row._id);\r\n                                    const labelId = `enhanced-table-checkbox-${index}`;\r\n                                    return (\r\n                                        <TableRow\r\n                                            hover\r\n                                            role=\"checkbox\"\r\n                                            aria-checked={isItemSelected}\r\n                                            key={index}\r\n                                            selected={isItemSelected}\r\n                                        >\r\n                                            <TableCell padding=\"checkbox\">\r\n                                                <Checkbox\r\n                                                    onClick={(event) => selectRow(event, row._id)}\r\n                                                    checked={isItemSelected}\r\n                                                    inputProps={{ 'aria-labelledby': labelId }}\r\n                                                />\r\n                                            </TableCell>\r\n                                            {/* <TableCell component=\"th\" id={labelId} scope=\"row\" >\r\n                                                <TextField disabled={false} id={labelId} onChange={(e) => { editPromotion(e.target.value) }} />\r\n                                            </TableCell> */}\r\n                                            {/* <TableCell align=\"left\">{row.type}</TableCell>\r\n                                            <TableCell align=\"left\">\r\n                                                <Moment format=\"DD MMM YYYY\">{row.startDate}</Moment>\r\n                                            </TableCell>\r\n                                            <TableCell align=\"left\">\r\n                                                <Moment format=\"DD MMM YYYY\">{row.endDate}</Moment>\r\n                                            </TableCell>\r\n                                            <TableCell align=\"left\">{row.userGroupName}</TableCell> */}\r\n                                            <TableCell align=\"left\">\r\n                                                <ActionsMenu promotion={row} onDelete={deletePromotion}\r\n                                                    onDuplicate={duplicatePromotion} onEdit={editPromotion}></ActionsMenu>\r\n                                            </TableCell>\r\n                                        </TableRow>\r\n                                    );\r\n                                })}\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n            </Paper>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PromotionsTable;"]},"metadata":{},"sourceType":"module"}