{"ast":null,"code":"import _objectSpread from\"C:\\\\Projects\\\\PropitTasks\\\\\\u200FTasksClient\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Projects\\\\PropitTasks\\\\\\u200FTasksClient\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{makeStyles}from'@material-ui/core/styles';import TextField from'@material-ui/core/TextField';import{Button,Grid,Link}from'@material-ui/core';import*as AuthApi from'../services/UserService';import{useHistory}from'react-router-dom';var useStyles=makeStyles(function(theme){return{root:{'& > *':{color:theme.palette.secondary.main}},paper:{marginTop:theme.spacing(8),display:'flex',flexDirection:'column',alignItems:'center'},form:{width:'100%',marginTop:theme.spacing(1)},submit:{margin:theme.spacing(3,0,2)}};});export var Login=function Login(){var _useState=useState({email:'',password:'',role:''}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var classes=useStyles();var history=useHistory();var login=function login(){AuthApi.login(user).then(function(_ref){var data=_ref.data;sessionStorage.setItem(\"accessToken\",data.accessToken);history.push(\"/tasks\");}).catch(function(err){console.log(err);});};return/*#__PURE__*/React.createElement(Grid,{container:true,spacing:0,direction:\"column\",alignItems:\"center\",justify:\"center\",className:\"home-container\"},/*#__PURE__*/React.createElement(Grid,{item:true,xs:6,className:classes.root},/*#__PURE__*/React.createElement(\"h1\",null,\"Welcome to propit!\"),/*#__PURE__*/React.createElement(\"h4\",null,\"please login to start manage your tasks\")),/*#__PURE__*/React.createElement(Grid,{item:true,xs:6},/*#__PURE__*/React.createElement(\"div\",{className:classes.form},/*#__PURE__*/React.createElement(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"email\",label:\"Email Address\",name:\"email\",autoComplete:\"email\",value:user.email,onChange:function onChange(e){return setUser(_objectSpread({},user,{email:e.target.value}));}}),/*#__PURE__*/React.createElement(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",value:user.password,onChange:function onChange(e){return setUser(_objectSpread({},user,{password:e.target.value}));}}),/*#__PURE__*/React.createElement(Button,{onClick:login,fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit},\"Sign In\"),/*#__PURE__*/React.createElement(Grid,{container:true},/*#__PURE__*/React.createElement(Grid,{item:true},/*#__PURE__*/React.createElement(Link,{href:\"signup\",variant:\"body2\"},\"Don't have an account? Sign Up\"))))));};","map":{"version":3,"sources":["C:/Projects/PropitTasks/‏TasksClient/src/components/login.tsx"],"names":["React","useState","makeStyles","TextField","Button","Grid","Link","AuthApi","useHistory","useStyles","theme","root","color","palette","secondary","main","paper","marginTop","spacing","display","flexDirection","alignItems","form","width","submit","margin","Login","email","password","role","user","setUser","classes","history","login","then","data","sessionStorage","setItem","accessToken","push","catch","err","console","log","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { Button, Grid, Link } from '@material-ui/core';\r\nimport { user } from '../types/user';\r\n\r\nimport * as AuthApi from '../services/UserService';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        '& > *': {\r\n            color: theme.palette.secondary.main\r\n        },\r\n    }, paper: {\r\n        marginTop: theme.spacing(8),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    form: {\r\n        width: '100%',\r\n        marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n}));\r\n\r\n\r\nexport const Login = () => {\r\n\r\n\r\n    const [user, setUser] = useState<user>({ email: '', password: '', role: '' });\r\n\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n\r\n\r\n    const login = () => {\r\n        AuthApi.login(user)\r\n            .then(({ data }) => {\r\n                sessionStorage.setItem(\"accessToken\", data.accessToken);\r\n                history.push(\"/tasks\");\r\n            }).catch((err) => {\r\n                console.log(err)\r\n            });\r\n    }\r\n\r\n    return (\r\n        <Grid\r\n            container\r\n            spacing={0}\r\n            direction=\"column\"\r\n            alignItems=\"center\"\r\n            justify=\"center\"\r\n            className=\"home-container\">\r\n            <Grid item xs={6} className={classes.root}>\r\n                <h1>Welcome to propit!</h1>\r\n                <h4>please login to start manage your tasks</h4>\r\n            </Grid>\r\n            <Grid item xs={6}>\r\n                <div className={classes.form}>\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        id=\"email\"\r\n                        label=\"Email Address\"\r\n                        name=\"email\"\r\n                        autoComplete=\"email\"\r\n                        value={user.email}\r\n                        onChange={e => setUser({ ...user, email: e.target.value })} />\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        name=\"password\"\r\n                        label=\"Password\"\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        value={user.password}\r\n                        onChange={e => setUser({ ...user, password: e.target.value })}\r\n                    />\r\n                    <Button\r\n                        onClick={login}\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        className={classes.submit}>\r\n                        Sign In\r\n          </Button>\r\n                    <Grid container>\r\n                        <Grid item>\r\n                            <Link href=\"signup\" variant=\"body2\">\r\n                                {\"Don't have an account? Sign Up\"}\r\n                            </Link>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n            </Grid>\r\n        </Grid >\r\n\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}